import React, { useState } from 'react';
import Axios from "axios"; 


function DataFetcher() {
  const [userInput, setUserInput] = useState('');
  const [fetchedData, setFetchedData] = useState('');

  const fetchData = async () => {
    try {
      const response = await Axios.post("http://localhost:5010/fetch-data", { userInput });
      console.log(response.data);
      const data = response.data;
      setFetchedData(data);
      
      console.log('success');
    } catch (error) {
      console.error('Error fetching data:', error);
      setFetchedData('Error fetching data');
    }
  };
  
  return (
    <div>
      <text style={{paddingTop:'30px'}}>Enter one of the following file names to view instructions on how to complete the task you signed up for earlier.</text><br />
      <text style={{paddingTop:'30px'}}>Instructions for mowing lawn: MowLawn.txt</text><br />
      <text style={{paddingTop:'30px'}}>Instructions for shopping: Shopping.txt</text><br />
      <br />

      <input
        type="text"
        value={userInput}
        onChange={(e) => setUserInput(e.target.value)}
        placeholder="Enter file path or URL"
      />
      <button onClick={fetchData}>Fetch Data</button>
      <div className="data-container">
        <pre>{fetchedData}</pre>
      </div>
    </div>
  );
}

export default DataFetcher;
