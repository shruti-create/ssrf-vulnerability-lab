import React from 'react';
import HomeScreen from './Home';
import NotesScreen from './Notes'; 
import LoginScreen from './Login'; 
import "bootstrap/dist/css/bootstrap.min.css";
import ReactDOM from "react-dom";
import "bootstrap/dist/js/bootstrap.bundle.min.js";
import "./App.css"
import JobData from './DataFetcher';
import Users from './UserScreen';

class SideNav extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      activeScreen: "Home", 
      isSideNavOpen: true, 
    };
  }

  handleNavClick = (screen) => {
    this.setState({ activeScreen: screen });
    this.props.handleNavClick(screen); 
  };

  handleSideNavClose = () => {
    this.setState((prevState) => ({ isSideNavOpen: !prevState.isSideNavOpen }));
  };


  render() {
    const { activeScreen, isSideNavOpen } = this.state;

    return (
      <>
      {isSideNavOpen && (
          <nav className="sidebar">
          <li
            onClick={() => this.handleNavClick("Admin Dashboard")} 
            className={activeScreen === "Admin Dashboard" ? "active" : ""}
          >
            <i className="fa fa-home"></i>
            <span>Dashboard</span>
          </li>
        <li
            onClick={() => this.handleNavClick("Notes")} 
            className={activeScreen === "Notes" ? "active" : ""}
          >
            <i className="fa fa-pen"></i>
            <span>Notes</span>
          </li>
        <li
            onClick={() => this.handleNavClick("Job Data")} 
            className={activeScreen === "JobData" ? "active" : ""}
          >
            <i className="fa fa-file"></i>
            <span>Job Data</span>
          </li>
          <li
            onClick={() => this.handleNavClick("Users Information")} 
            className={activeScreen === "Users Information" ? "active" : ""}
          >
            <i className="fa fa-user"></i>
            <span>Users Information</span>
          </li>
      </nav>
      )}
      </>
    );
  }
}



class AdminDashboard extends React.Component {
  
  constructor(props) {
    super(props);
    this.state = {
      activeScreen: "Admin Dashboard", 
      isSideNavOpen: true, 
    };
  }

  handleNavClick = (screen) => {
    this.setState({ activeScreen: screen });
  };

  handleSideNavToggle = () => {
    this.setState((prevState) => ({ isSideNavOpen: !prevState.isSideNavOpen }));
  };

  render() {
    const { activeScreen, isSideNavOpen} = this.state;

    
    return (
      <div className="d-flex">
        {isSideNavOpen && <SideNav handleNavClick={this.handleNavClick} activeScreen={activeScreen} />}
        <button
              style={{ backgroundColor: "#FFFFFF", fontSize: '25px', border: '0px', padding: "0px" }}
              onClick={this.handleSideNavToggle}
            >
              {isSideNavOpen ? "←" : "→"}
            </button>
        <div className={`flex-grow-1 ${isSideNavOpen ? "" : "expanded"}`}>
          <div>
            <h1 style={{ backgroundColor: "#000000", color: "#FFFFFF", padding: "25px", paddingLeft:"15px"}}>
              Welcome to your {activeScreen}.
            </h1>
          </div>
          {activeScreen === "Admin Dashboard" ? <HomeScreen /> : null}
          {activeScreen === "Notes" ? <NotesScreen /> : null}
          {activeScreen === "Job Data" ? <JobData /> : null}
          {activeScreen === "Users Information" ? <Users /> : null}
        </div>
      </div>
    );
  
  }
}

export default AdminDashboard;